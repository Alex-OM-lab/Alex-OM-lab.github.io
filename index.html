<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alejandro Orcajada Meseguer | Administrador de Sistemas y Ciberseguridad</title>
  <meta name="description" content="Portafolio profesional de Alejandro Orcajada Meseguer, Administrador de Sistemas y Ciberseguridad." />

  <style>
    :root{
      --bg:#0e1320; --text:#e6edf3; --muted:#a9b1bd;
      --accent:#f59e0b; --accent-soft:#ffd08a;
      --panel:#12192b; --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial;background:var(--bg);color:var(--text)}

    /* ====== TOPBAR ====== */
    .topbar{position:sticky;top:0;z-index:100;backdrop-filter:saturate(160%) blur(8px);
      background:rgba(8,12,22,.65);border-bottom:1px solid rgba(255,255,255,.06);animation:topbarDrop .5s ease both}
    @keyframes topbarDrop{from{transform:translateY(-8px);opacity:0}to{transform:none;opacity:1}}
    .topwrap{width:min(1100px,92%);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--text);text-decoration:none}
    .brand-dot{width:10px;height:10px;border-radius:999px;background:var(--accent);box-shadow:0 0 16px var(--accent)}
    .menu{display:flex;gap:10px;flex-wrap:wrap}

    /* ====== NAV LINKS ====== */
    .nav-link{
      color:var(--text);text-decoration:none;padding:8px 12px;border-radius:999px;font-weight:600;
      border:1px solid transparent;transition:transform .12s,background .2s,border-color .2s
    }
    .nav-link:hover{transform:translateY(-1px);background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.35);color:var(--accent-soft)}

    .nav-folder{position:relative}
    .nav-btn{
      display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid transparent;
      background:transparent;color:var(--text);font-weight:700;cursor:pointer;transition:transform .12s,background .2s,border-color .2s
    }
    .nav-btn:hover{transform:translateY(-1px);background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.35)}
    .nav-btn-link{color:var(--text);text-decoration:none;font-weight:700;transition:color .2s ease}
    .nav-btn-link:hover{color:var(--accent-soft)}
    .ico-folder{width:14px;height:12px;position:relative;display:inline-block}
    .ico-folder::before{content:"";position:absolute;inset:0;border-radius:3px;background:rgba(245,158,11,.15);border:1px solid rgba(245,158,11,.35)}
    .ico-folder::after{content:"";position:absolute;width:8px;height:3px;left:2px;top:-3px;border-radius:2px 2px 0 0;background:rgba(245,158,11,.35)}
    .caret{width:10px;height:10px;border-right:2px solid var(--accent);border-bottom:2px solid var(--accent);
      transform:rotate(-45deg) translateY(-1px);transition:transform .2s ease}

    /* ====== POPOVER BASE ====== */
    .sub{position:absolute;top:100%;left:0;min-width:360px;padding-top:0}
    .sub::before{content:"";position:absolute;top:-10px;left:0;right:0;height:12px}
    .sub::after{content:""; position:absolute; top:0; left:100%; width:20px; height:100%; background:transparent; pointer-events:auto;}

    .sub>ul{
      list-style:none;margin:0;padding:8px;background:rgba(18,25,43,.98);
      border:1px solid rgba(255,255,255,.06);border-radius:12px;box-shadow:0 12px 30px rgba(0,0,0,.35);
      transform-origin:top left;transform:scaleY(.92);opacity:0;max-height:0;overflow:hidden;
      transition:transform .2s ease,opacity .2s ease,max-height .32s ease;
    }
    .sub a{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;border-radius:8px;
      text-decoration:none;color:var(--text);border:1px solid transparent}
    .sub a:hover{background:rgba(245,158,11,.1);border-color:rgba(245,158,11,.25)}
    .nav-folder[aria-open="true"] > .sub > ul{pointer-events:auto;transform:scaleY(1);opacity:1;max-height:80vh;overflow:auto}
    .nav-folder[aria-open="true"] > .nav-btn .caret{transform:rotate(45deg)}

    /* ====== NIVEL 2 animado ====== */
    .nested{
      max-height:0; opacity:0; transform:translateY(-4px);
      overflow:hidden; margin-top:6px; padding-left:10px;
      border-left:2px dashed rgba(245,158,11,.25);
      transition:max-height .28s ease, opacity .22s ease, transform .22s ease;
    }
    .sub li.open > .nested{ max-height:1200px; opacity:1; transform:none; }

    /* ===== Nivel2 efecto visual elegante ===== */
    .nested > li > a{
      position: relative;
      border: 1px solid transparent;
      transition:
        background .18s ease,
        border-color .18s ease,
        box-shadow .18s ease,
        transform .12s ease;
    }
    .nested > li > a::before{
      content:"";
      position:absolute; left:-12px; top:10px;
      width:2px; height:0; border-radius:2px;
      background:rgba(245,158,11,.85);
      box-shadow:0 0 10px rgba(245,158,11,.55);
      transition:height .22s ease;
    }
    .nested > li > a > span:last-child{
      display:inline-block;
      transition: transform .18s ease, opacity .18s ease;
      opacity:.6;
    }
    .nested > li.is-hot > a{
      background:rgba(245,158,11,.10);
      border-color:rgba(245,158,11,.22);
      box-shadow:0 4px 14px rgba(0,0,0,.25), inset 0 0 0 1px rgba(245,158,11,.10);
      transform: translateY(-1px);
    }
    .nested > li.is-hot > a::before{ height: calc(100% - 20px); }
    .nested > li.is-hot > a > span:last-child{ transform: translateX(4px); opacity:.85; }

    /* ===== PANEL LATERAL NIVEL 3 ===== */
    .sub .side{
      position:absolute; top:0; left:calc(100% + 12px); width:340px;
      background:rgba(18,25,43,.98); border:1px solid rgba(255,255,255,.06);
      border-radius:12px; box-shadow:0 12px 30px rgba(0,0,0,.35);
      padding:8px; opacity:0; transform:translateX(-6px) scale(0.98);
      pointer-events:none; transition:opacity .12s ease-out, transform .12s cubic-bezier(.18,.89,.32,1.28);
    }
    .nav-folder[data-sticky="true"][data-panel="show"][aria-open="true"] .side{ opacity:1; transform:translateX(0) scale(1); pointer-events:auto; }
    .side-title{margin:6px 10px 8px;font-weight:800;color:#f3f5f8}
    .side-list{list-style:none;margin:0;padding:0}
    .side-list a{display:block;padding:10px 12px;border-radius:8px;color:var(--text);text-decoration:none}
    .side-list a:hover{background:rgba(245,158,11,.1);border:1px solid rgba(245,158,11,.25)}
    .side .side-title, .side .side-list { transition: opacity .12s ease, transform .12s ease; will-change: opacity, transform; }
    .side.swap-out .side-title, .side.swap-out .side-list { opacity: 0; transform: translateX(-6px); }
    .side.swap-in  .side-title, .side.swap-in  .side-list { opacity: 1; transform: translateX(0); }

    .sub>ul::-webkit-scrollbar{width:10px}
    .sub>ul::-webkit-scrollbar-thumb{background:rgba(245,158,11,.2);border-radius:10px}
    .sub>ul::-webkit-scrollbar-track{background:rgba(255,255,255,.04)}

    @media (max-width:860px){
      .sub{position:static}
      .sub>ul,.sub .side{box-shadow:none}
      .sub .side{position:static;left:auto;width:auto;margin-top:8px;opacity:1;transform:none}
      .sub::after{display:none}
    }

    /* ===== HERO / CONTENIDO ===== */
    .hero-wrap{min-height:72vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:26px 14px 0}
    .hero h1{font-size:clamp(34px,4vw,54px);font-weight:900;color:var(--accent);margin:0 0 8px;text-shadow:0 0 18px rgba(255,153,0,.7),0 0 36px rgba(255,153,0,.25)}
    .hero h2{font-size:clamp(24px,3.2vw,40px);font-weight:800;margin:6px 0 8px;color:var(--accent-soft);text-shadow:0 0 14px rgba(255,153,0,.45)}
    .cursor{display:inline-block;width:.6ch;margin-left:2px;color:var(--accent);filter:drop-shadow(0 0 6px var(--accent));animation:blink .95s steps(1,end) infinite}
    @keyframes blink{50%{opacity:0}}
    .lead{max-width:900px;margin:10px auto 0;font-size:clamp(19px,1.5vw,22px);line-height:1.7;color:var(--text);opacity:0;transform:translateY(10px);transition:opacity .8s ease,transform .8s ease}
    .lead.show{opacity:1;transform:none}
  </style>
</head>
<body>

<header class="topbar">
  <div class="topwrap">
    <a class="brand" href="/"><span class="brand-dot"></span><span>AO · Portafolio</span></a>
    <nav class="menu" id="nav"></nav>
  </div>
</header>

<div class="hero-wrap">
  <div class="hero">
    <h1><span id="typeName"></span></h1>
    <h2><span id="typeRole"></span><span class="cursor">|</span></h2>
    <p id="lead" class="lead">Me especializo en diseñar, securizar y operar infraestructuras robustas.</p>
  </div>
</div>

<script>
document.getElementById('lead').classList.add('show');

/* === NAV TREE (simplificado para ejemplo) === */
const seven = base => Array.from({length:7},(_,i)=>({label:`${base} · Artículo ${i+1}`,href:"#"}));
const NAV_TREE=[{label:"Portafolio",sticky:true,children:[
  {label:"Ciberseguridad",children:[
    {label:"Análisis Forense",children:seven("Análisis Forense")},
    {label:"DevSecOps",children:seven("DevSecOps")},
    {label:"Documentación e informes",children:seven("Docs e informes")},
    {label:"Puesta en producción segura",children:seven("Producción segura")},
    {label:"Respuesta a Incidentes",children:seven("Respuesta a Incidentes")},
    {label:"Seguridad en redes",children:seven("Seguridad en redes")},
    {label:"Seguridad de sistemas",children:seven("Seguridad de sistemas")}
  ]},
  {label:"Sistemas",children:[
    {label:"Linux",children:seven("Linux")},
    {label:"Windows",children:seven("Windows")},
    {label:"Automatización",children:seven("Automatización")}
  ]}
]}];

/* === swap sutil lvl3 === */
function swapSideContent(side,newTitle,newLinks){
  const title=side.querySelector('.side-title'),list=side.querySelector('.side-list');
  if(side.dataset.key===newTitle)return;
  side.classList.remove('swap-in');side.classList.add('swap-out');
  clearTimeout(side._swapTimer);
  side._swapTimer=setTimeout(()=>{
    side.dataset.key=newTitle;title.textContent=newTitle;
    list.innerHTML='';newLinks.forEach(a=>{const li=document.createElement('li');li.appendChild(a.cloneNode(true));list.appendChild(li);});
    void side.offsetWidth;side.classList.remove('swap-out');side.classList.add('swap-in');
  },120);
}

/* === alinear panel lvl3 con clamp === */
function positionSideAligned(side,anchor,sub){
  const list=sub.querySelector(':scope > ul');
  const subRect=sub.getBoundingClientRect(),listRect=list.getBoundingClientRect(),aRect=anchor.getBoundingClientRect();
  const sideH=side.getBoundingClientRect().height;
  const desired=aRect.top-subRect.top,min=listRect.top-subRect.top,max=(listRect.bottom-subRect.top)-sideH;
  side.style.top=`${(max<min)?min:Math.min(Math.max(desired,min),max)}px`;
}

/* === build nav === */
const nav=document.getElementById('nav');
NAV_TREE.forEach(node=>nav.appendChild(createNode(node)));
function createNode(node){
  if(!node.children){const a=document.createElement('a');a.className='nav-link';a.textContent=node.label;return a;}
  const wrap=document.createElement('div');wrap.className='nav-folder';wrap.setAttribute('aria-open','false');
  if(node.sticky)wrap.dataset.sticky='true';
  const btn=document.createElement('button');btn.className='nav-btn';btn.innerHTML=`<span class="ico-folder"></span>${node.label}<span class="caret"></span>`;
  wrap.appendChild(btn);
  const sub=document.createElement('div');sub.className='sub';const ul=document.createElement('ul');sub.appendChild(ul);
  let side=null;if(wrap.dataset.sticky){side=document.createElement('div');side.className='side';side.innerHTML=`<div class="side-title"></div><ul class="side-list"></ul>`;sub.appendChild(side);}
  node.children.forEach(l1=>{
    const li1=document.createElement('li'),a1=document.createElement('a');a1.innerHTML=`<span>${l1.label}</span><span>›</span>`;li1.appendChild(a1);
    const ul2=document.createElement('ul');ul2.className='nested';
    l1.children?.forEach(l2=>{
      const li2=document.createElement('li'),a2=document.createElement('a');a2.innerHTML=`<span>${l2.label}</span><span>›</span>`;li2.appendChild(a2);
      const hidden=document.createElement('ul');hidden.style.display='none';
      l2.children?.forEach(x=>{const li3=document.createElement('li'),a=document.createElement('a');a.textContent=x.label;li3.appendChild(a);hidden.appendChild(li3);});
      li2.appendChild(hidden);

      // efecto hover lvl2
      a2.addEventListener('mouseenter',()=>{
        const parentUL=li2.parentElement;
        parentUL.querySelectorAll(':scope>li.is-hot').forEach(x=>x.classList.remove('is-hot'));
        li2.classList.add('is-hot');
        if(side){
          const links=Array.from(hidden.querySelectorAll('a'));
          const title=`${l1.label} / ${l2.label}`;
          positionSideAligned(side,a2,sub);
          swapSideContent(side,title,links);
          wrap.setAttribute('data-panel','show');
          setTimeout(()=>positionSideAligned(side,a2,sub),0);
        }
      });
      ul2.appendChild(li2);
    });
    ul2.addEventListener('mouseleave',()=>ul2.querySelectorAll(':scope>li.is-hot').forEach(x=>x.classList.remove('is-hot')));
    li1.appendChild(ul2);ul.appendChild(li1);
  });
  wrap.appendChild(sub);
  return wrap;
}
</script>
</body>
</html>
